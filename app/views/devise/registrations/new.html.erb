<%# app/views/devise/registrations/new.html.erb %>

<%# Reuse the welcome styles explicitly if not globally included %>
<% content_for :head do %>
  <%= stylesheet_link_tag "welcome", "data-turbo-track": "reload" %>
<% end %>

<%# The Canvas: Linked to the controller for the animation %>
<canvas id="particle-canvas" data-controller="welcome-background"></canvas>

<div id="welcome-screen">
  <div class="welcome-card">

    <div class="welcome-header">
      <h1>GOLDEN PATH</h1>
      <p>The Path is better together.</p>
      <%# Added the luxury quote for stylistic consistency %>
      <p style="font-style: italic; font-size: 0.95rem; color: var(--text-secondary); margin-top: 0.75rem; line-height: 1.6; font-weight: 300;">
        “Seek freedom and become captive of your desires. Seek discipline and find your liberty.”
      </p>
    </div>

    <div class="welcome-form-wrapper">
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), data: { turbo: false }) do |f| %>

        <%# Error messages will appear at the top of the form if any %>
        <%= render "devise/shared/error_messages", resource: resource %>

        <div class="form-group">
          <%= f.email_field :email,
                            autofocus: true,
                            autocomplete: "email",
                            placeholder: "Email",
                            required: true,
                            class: "welcome-input" %>
        </div>

        <div class="form-group">
          <%= f.password_field :password,
                               autocomplete: "new-password",
                               placeholder: "Password (#{@minimum_password_length} char min)",
                               required: true,
                               class: "welcome-input" %>
        </div>

        <div class="form-group">
          <%= f.password_field :password_confirmation,
                               autocomplete: "new-password",
                               placeholder: "Confirm Password",
                               required: true,
                               class: "welcome-input" %>
        </div>

        <div class="welcome-buttons-container">
          <%# Sign Up (Primary Action - Solid Button) %>
          <%= f.submit "SIGN UP", class: "welcome-button solid-button" %>

          <%# Log In (Secondary/Back - Outline Button) %>
          <%= link_to "LOG IN", new_session_path(resource_name), class: "welcome-button outline-button" %>
        </div>

      <% end %>
    </div>

  </div>
</div>